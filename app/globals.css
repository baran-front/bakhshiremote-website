@import "tailwindcss";
@import "tw-animate-css";

@font-face {
  font-family: "yekan-bakh";
  font-display: swap;
  src: url("/fonts/yekan-bakh/yekan-bakh-medium.ttf");
}

@font-face {
  font-family: "yekan-bakh-bold";
  font-display: swap;
  src: url("/fonts/yekan-bakh/yekan-bakh-semi-bold.ttf");
}

@custom-variant dark (&:is(.dark *));

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-card: var(--card);
  --color-secondary: var(--secondary);
  --color-primary: var(--primary);
  --radius-sm: calc(var(--radius) - 0.5rem);
  --radius-md: calc(var(--radius) - 0.25rem);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 0.5rem);
  --radius-2xl: calc(var(--radius) + 1rem);

  --font-*: initial;
  --font-yekan-bakh: "yekan-bakh";
  --font-yekan-bakh-bold: "yekan-bakh-bold";
}

:root {
  --radius: 1rem;
  /* Theme colors are dynamically injected from tenant config via ThemeVariables component */
}

.dark {
  /* Theme colors are dynamically injected from tenant config via ThemeVariables component */
}

@layer base {
  * {
    @apply border-foreground/10 outline-foreground/50;
  }
  body {
    @apply bg-background text-foreground font-yekan-bakh;
  }
  button {
    @apply cursor-pointer;
  }
}

@utility wrapper {
  @apply w-full px-6 lg:px-8 max-w-384 mx-auto;
}

@utility heading {
  @apply font-yekan-bakh-bold text-xl lg:text-3xl leading-normal!;
}

@utility title {
  @apply text-lg lg:text-xl;
}

@utility typography {
  @apply lg:text-lg leading-loose lg:leading-loose;
}

@utility unstyled-card {
  @apply rounded-2xl p-3 space-y-3;
}

@utility card {
  @apply unstyled-card bg-card;
}

@utility card-thumbnail {
  @apply w-full aspect-video;

  border-radius: calc(var(--radius-2xl) - 0.75rem);
}

@utility card-flex-wrapper {
  @apply flex items-center gap-3 lg:flex-wrap max-lg:overflow-x-auto max-lg:pb-3;

  .card,
  .custom-card-size {
    @apply max-sm:min-w-[calc(90%-0.75rem)] max-lg:min-w-[calc((90%-1.5rem)/2)] max-lg:max-w-[calc(90%-0.75rem)] lg:w-[calc((100%-2.25rem)/4)];
  }
}

@utility card-grid-wrapper {
  @apply grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3;
}

@utility cms {
  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    @apply heading;
  }

  p {
    @apply typography;
  }
}

/* Radial glow background for the moving blob */
.glow-blob-bg-gradient-radial {
  background: radial-gradient(
    160px 160px at center,
    var(--glow-color, var(--color-primary)) 0%,
    color-mix(in oklch, var(--glow-color, var(--color-primary)), transparent 50%) 25%,
    transparent 100%
  );
}

/* Range slider styles */
.range-slider {
  @apply bg-primary rounded-full h-2;
}

.range-slider .range-slider__range {
  @apply bg-primary/50! rounded-full;
}

.range-slider .range-slider__thumb {
  @apply bg-primary! border-2 border-background w-5 h-5 shadow-md hover:scale-110 active:scale-95 cursor-pointer;
  @apply focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/50 focus-visible:ring-offset-2;
}

.range-slider .range-slider__thumb[data-disabled] {
  @apply cursor-not-allowed opacity-50;
}

.range-slider[data-disabled] {
  @apply opacity-50 cursor-not-allowed;
}

@utility cms {
  @apply text-right leading-relaxed space-y-3 text-foreground/80;

  h3 {
    @apply font-yekan-bakh-bold text-lg lg:text-xl mt-4 mb-2;
  }

  p {
    @apply text-sm lg:text-base;
  }

  p strong {
    @apply font-yekan-bakh-bold;
  }

  hr {
    @apply my-4 border-foreground/10;
  }
}

/* Loading spinner styles */
.loading-spinner {
  @apply relative w-12 h-12;
}

.loading-spinner-inner {
  @apply absolute inset-0 rounded-full;
  border: 3px solid var(--foreground);
  border-top-color: var(--primary);
  opacity: 0.2;
  animation: spinner-rotate 1s linear infinite;
}

.loading-spinner-inner::before {
  content: "";
  @apply absolute inset-0 rounded-full;
  border: 3px solid transparent;
  border-top-color: var(--primary);
  animation: spinner-rotate 1s linear infinite;
}

@keyframes spinner-rotate {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

/* Slow pulse animation for loading logo */
@keyframes pulse-slow {
  0%,
  100% {
    opacity: 1;
    transform: scale(1);
  }
  50% {
    opacity: 0.7;
    transform: scale(0.95);
  }
}

.animate-pulse-slow {
  animation: pulse-slow 2s ease-in-out infinite;
}